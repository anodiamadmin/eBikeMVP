M2M_MOBILE_FRONTEND

app/_layout.jsx

import { useFonts } from "expo-font";
import { Stack } from "expo-router";
import * as SplashScreen from "expo-splash-screen";
import { useEffect } from "react";
import { SafeAreaProvider } from "react-native-safe-area-context";

import { AuthProvider } from "../context/AuthContext";
import { EntryIntentProvider } from "../context/EntryIntentContext";
import { TabIntentProvider } from "../context/TabIntentContext";

SplashScreen.preventAutoHideAsync();

export default function RootLayout() {
  const [fontsLoaded] = useFonts({
    "Comfortaa-Regular": require("../assets/fonts/Comfortaa-Regular.ttf"),
    "Comfortaa-Bold": require("../assets/fonts/Comfortaa-Bold.ttf"),
    "Lato-Regular": require("../assets/fonts/Lato-Regular.ttf"),
    "Lato-Bold": require("../assets/fonts/Lato-Bold.ttf"),
  });

  useEffect(() => {
    if (fontsLoaded) {
      SplashScreen.hideAsync();
    }
  }, [fontsLoaded]);

  if (!fontsLoaded) {
    return null;
  }

  return (
    <SafeAreaProvider>
      <AuthProvider>
        <EntryIntentProvider>
          <TabIntentProvider>
            <Stack screenOptions={{ headerShown: false }}>
              <Stack.Screen name="index" /> 
              <Stack.Screen name="landing" />
              <Stack.Screen name="(auth)" />
              <Stack.Screen name="(tabs)" />
            </Stack>
          </TabIntentProvider>
        </EntryIntentProvider>
      </AuthProvider>
    </SafeAreaProvider>
  );
}


app/index.jsx

import { Redirect } from "expo-router";

export default function WebEntry() {
  return <Redirect href="/splash" />;
}


app/landing.jsx

import { useRouter } from "expo-router";
import { useContext } from "react";
import { Image, StatusBar, StyleSheet, View } from "react-native";
import { useSafeAreaInsets } from "react-native-safe-area-context";

import Button from "../components/Button";
import Label from "../components/Label";
import { AuthContext } from "../context/AuthContext";
import { EntryIntentContext } from "../context/EntryIntentContext";
import { Colors } from "../theme/colors";
import { landingStyles } from "../utils/styles";

export default function Landing() {
  const router = useRouter();
  
  const insets = useSafeAreaInsets();
  
  const { authStatus } = useContext(AuthContext);
  const { setEntryIntent } = useContext(EntryIntentContext);

  const handleExplore = () => {
    router.replace("/(tabs)/explore");
  };

  const handleEntryAction = (intent) => {
    setEntryIntent(intent);

    if (authStatus === "AUTHENTICATED") {
      if (intent === "RENT") {
        router.replace("/(tabs)/my-rides/filter"); 
      } else if (intent === "LIST") {
        router.replace("/(tabs)/my-bikes/list"); 
      }
    } else {
      router.push("/(auth)/signin");
    }
  };

  return (
   <View style={[
      landingStyles.container, 
      { paddingTop: insets.top, paddingBottom: insets.bottom }
    ]}>
      <StatusBar barStyle="dark-content" />

      <View style={landingStyles.topSection}>
        <View style={landingStyles.circleBadge}>
          <Image 
            source={require("../assets/images/SplashLogo.png")} 
            style={landingStyles.logo}
            resizeMode="contain"
          />
          <Label size={14} color={Colors.white} style={landingStyles.tagline}>
            Shining the light on{'\n'}micro-mobility
          </Label>
        </View>
      </View>

      <View style={landingStyles.actionContainer}>
        
        <Button 
          title="Rent a Bike" 
          variant="primary"
          onPress={() => handleEntryAction("RENT")}
          style={landingStyles.buttonSpacing}
        />

        <Button 
          title="List a Bike" 
          variant="primary"
          onPress={() => handleEntryAction("LIST")}
          style={landingStyles.buttonSpacing}
        />

        <Button 
          title="Explore" 
          variant="hyperlink"
          onPress={handleExplore}
          style={landingStyles.exploreButton} 
        />

      </View>
    </View>
  );
}


app/splash.jsx

import Label from "@components/Label";
import { Colors } from "@theme/colors";
import { useRouter } from "expo-router";
import { useContext, useEffect, useRef, useState } from "react";
import { Animated, Image, StatusBar, View } from "react-native";

import { AuthContext } from "../context/AuthContext";

// 1. Updated Import: No longer using 'as styles'
import { splashStyles } from "../utils/styles";

export default function SplashScreen() {
  const router = useRouter();
  const { authStatus } = useContext(AuthContext);
  const fadeAnim = useRef(new Animated.Value(0)).current;
  const [animationFinished, setAnimationFinished] = useState(false);

  const onImageLoaded = () => {
    Animated.timing(fadeAnim, {
      toValue: 1,
      duration: 800, 
      useNativeDriver: true,
    }).start();

    setTimeout(() => {
      setAnimationFinished(true);
    }, 3000);
  };

  useEffect(() => {
    if (!animationFinished) return;
    if (authStatus === "UNKNOWN") return;

    if (authStatus === "AUTHENTICATED") {
      router.replace("/(tabs)/explore");
    } else {
      router.replace("/landing");
    }
  }, [authStatus, animationFinished]); 

  return (
    // 2. Updated Usage: Changed 'styles.container' to 'splashStyles.container'
    <View style={splashStyles.container}> 
      <StatusBar barStyle="light-content" />

      <Animated.View style={[splashStyles.contentContainer, { opacity: fadeAnim }]}>
        <View style={splashStyles.topSection}>
          <Label size={18} color={Colors.white} style={{ letterSpacing: 0.5 }}>
            Making Sydney E-bike Friendly
          </Label>
        </View>

        <View style={splashStyles.logoContainer}>
          <Image 
            source={require("../assets/images/SplashLogo.png")} 
            style={splashStyles.logo}
            resizeMode="contain"
            onLoad={onImageLoaded}
          />
        </View>

        <View style={splashStyles.footerContainer}>
          <Label style={{ textAlign: 'center' }}>
            <Label size={24} bold secondary color={Colors.secondary}>Affordable</Label>
            <Label size={24} bold secondary color={Colors.primary}> Reliable</Label>
            <Label size={24} bold secondary color={Colors.white}> Safe</Label>
          </Label>
        </View>

      </Animated.View>
    </View>
  );
}


app/(auth)/_layout.jsx

import { Stack } from "expo-router";

export default function AuthLayout() {
  return (
    <Stack screenOptions={{ headerShown: false }}>
      <Stack.Screen name="signin" />
      <Stack.Screen name="signup" />
      <Stack.Screen name="terms&conditions" />
    </Stack>
  );
}


app/(auth)/signin.jsx

import { useRouter } from "expo-router";
import { useContext, useState } from "react";
import {
  Alert,
  Image,
  Keyboard,
  KeyboardAvoidingView,
  Platform,
  StyleSheet,
  TouchableWithoutFeedback,
  View
} from "react-native";
import { useSafeAreaInsets } from "react-native-safe-area-context";

import Button from "../../components/Button";
import Label from "../../components/Label";
import TextField from "../../components/TextField";
import { Colors } from "../../theme/colors";

import { authService } from "../../services/authService"; // 2. Import Service

import { AuthContext } from "../../context/AuthContext";
import { EntryIntentContext } from "../../context/EntryIntentContext";
import { TabIntentContext } from "../../context/TabIntentContext";

import { signinStyles } from "../../utils/styles";

export default function SignIn() {
  const router = useRouter();
  const insets = useSafeAreaInsets();
  
  const { setAuthStatus } = useContext(AuthContext);
  const { entryIntent, setEntryIntent } = useContext(EntryIntentContext);
  const { tabIntent, setTabIntent } = useContext(TabIntentContext);

  const [email, setEmail] = useState("");
  const [password, setPassword] = useState("");
  const [loading, setLoading] = useState(false);

  const handleSignIn = async () => {
    if (!email || !password) {
      Alert.alert("Missing Fields", "Please enter both email and password.");
      return;
    }

    setLoading(true);

    try {
      await authService.login(email, password);
      
      setAuthStatus("AUTHENTICATED");

      if (tabIntent) {
        if (tabIntent === "RIDES") router.replace("/(tabs)/my-rides");
        else if (tabIntent === "BIKES") router.replace("/(tabs)/my-bikes");
        else if (tabIntent === "PROFILE") router.replace("/(tabs)/profile");
        setTabIntent(null);
      } 
      else if (entryIntent) {
        if (entryIntent === "RENT") router.replace("/(tabs)/my-rides/filter");
        else if (entryIntent === "LIST") router.replace("/(tabs)/my-bikes/list");
        setEntryIntent(null);
      } 
      else {
        router.replace("/(tabs)/explore"); 
      }

    } catch (error) {
      console.log("Login Error:", error);
      const errorMessage = error.response?.data?.detail || "Invalid email or password";
      Alert.alert("Login Failed", errorMessage);
    } finally {
      setLoading(false);
    }
  };

  const navigateToSignUp = () => {
    router.push("/(auth)/signup");
  };

  return (
    <TouchableWithoutFeedback onPress={Keyboard.dismiss}>
      <View style={[
        signinStyles.container,
        { paddingTop: insets.top, paddingBottom: insets.bottom }
      ]}>
        <KeyboardAvoidingView 
          behavior={Platform.OS === "ios" ? "padding" : undefined} 
          style={{ flex: 1 }}
        >
          <View style={signinStyles.content}>
          
            <View style={signinStyles.headerSection}>
              <View style={signinStyles.logoHeader}>
                 <Image 
                   source={require("../../assets/images/LogoLightNoNameNoBg.png")} 
                   style={signinStyles.headerLogo}
                   resizeMode="contain"
                 />
                 <Label size={20} bold color={Colors.primary}>
                   micro2move
                 </Label>
              </View>

              <Label size={24} bold style={signinStyles.pageTitle}>
                Sign in to continue
              </Label>
            </View>

            <View style={signinStyles.form}>
              <TextField
                label="Email"
                value={email}
                onChangeText={setEmail}
                placeholder="Enter Email"
                testID="emailTextInput"
                keyboardType="email-address"
                autoCapitalize="none" // Important for email input
              />

              <TextField
                label="Password"
                value={password}
                onChangeText={setPassword}
                secureTextEntry
                placeholder="Enter Password"
                testID="passwordTextInput"
              />

              <Button 
                title={loading ? "Signing In..." : "Sign In"} // Update button text
                variant="primary" 
                onPress={handleSignIn} 
                testID="SignInButton"
                disabled={loading} // Disable button while loading
                style={{ marginTop: 20 }}
              />
            </View>

            <View style={signinStyles.footer}>
              <Label size={14} secondary color="#666">
                Donâ€™t have an account?{" "}
              </Label>
              
              <Button 
                title="Sign Up"
                variant="hyperlink"
                onPress={navigateToSignUp}
                textSize={14}
                style={{ marginVertical: 0 }} 
              />
            </View>

          </View>
        </KeyboardAvoidingView>
      </View>
    </TouchableWithoutFeedback>
  );
}



app/(auth)/signup.jsx

import { Ionicons } from "@expo/vector-icons";
import DateTimePicker from '@react-native-community/datetimepicker';
import * as ImagePicker from 'expo-image-picker';
import { useRouter } from "expo-router";
import * as SecureStore from 'expo-secure-store';
import { useContext, useState } from "react";
import {
  Alert,
  Image,
  Keyboard,
  KeyboardAvoidingView,
  Platform,
  StyleSheet,
  Text,
  TouchableOpacity,
  TouchableWithoutFeedback,
  View
} from "react-native";
import { useSafeAreaInsets } from "react-native-safe-area-context";

import Button from "../../components/Button";
import Label from "../../components/Label";
import TextField from "../../components/TextField";
import { Colors } from "../../theme/colors";

// Import Services & Utils
import { authService } from "../../services/authService";
import { isAtLeast16, isValidEmail } from "../../utils/validators";

import { AuthContext } from "../../context/AuthContext";
import { EntryIntentContext } from "../../context/EntryIntentContext";
import { TabIntentContext } from "../../context/TabIntentContext";

import { signupStyles } from "../../utils/styles";

export default function SignUp() {
  const router = useRouter();
  const insets = useSafeAreaInsets();

  const { setAuthStatus } = useContext(AuthContext);
  const { entryIntent, setEntryIntent } = useContext(EntryIntentContext);
  const { tabIntent, setTabIntent } = useContext(TabIntentContext);

  // Form State
  const [name, setName] = useState("");
  const [email, setEmail] = useState("");
  const [password, setPassword] = useState("");
  const [agreed, setAgreed] = useState(false);
  const [loading, setLoading] = useState(false);
  
  // NEW: State to track if we are currently "Simulating" the verification
  const [verifying, setVerifying] = useState(false);

  // --- DATE PICKER STATE ---
  const defaultDate = new Date();
  defaultDate.setFullYear(defaultDate.getFullYear() - 18);
  
  const [date, setDate] = useState(defaultDate); 
  const [showPicker, setShowPicker] = useState(false);
  const [dobString, setDobString] = useState(""); 

  // Image State
  const [profileImage, setProfileImage] = useState(null);
  const [idImage, setIdImage] = useState(null);

  // --- CAMERA LOGIC ---
  const takePhoto = async (setImageFunc, aspectRatio = [1, 1]) => {
    const permissionResult = await ImagePicker.requestCameraPermissionsAsync();
    
    if (permissionResult.granted === false) {
      Alert.alert("Permission Required", "We need camera access to capture your ID and photo.");
      return;
    }

    const result = await ImagePicker.launchCameraAsync({
      mediaTypes: ImagePicker.MediaTypeOptions.Images,
      allowsEditing: true,
      aspect: aspectRatio,
      quality: 0.5,
    });

    if (!result.canceled) {
      setImageFunc(result.assets[0].uri);
    }
  };

  // --- DATE PICKER HANDLER ---
  const handleDateChange = (event, selectedDate) => {
    if (event.type === 'dismissed') {
      setShowPicker(false);
      return;
    }

    const currentDate = selectedDate || date;
    setShowPicker(Platform.OS === 'ios'); 
    setDate(currentDate);

    const day = currentDate.getDate().toString().padStart(2, '0');
    const month = (currentDate.getMonth() + 1).toString().padStart(2, '0');
    const year = currentDate.getFullYear();
    setDobString(`${day}/${month}/${year}`);
  };

  const toggleDatePicker = () => {
    setShowPicker(!showPicker);
  };

  const handleSignUp = async () => {
    // --- VALIDATION START ---
    if (!name || !email || !password || !dobString) {
      Alert.alert("Missing Fields", "Please fill in all text details.");
      return;
    }
    
    if (!isValidEmail(email)) {
      Alert.alert("Invalid Email", "Please enter a valid email address.");
      return;
    }

    if (!isAtLeast16(dobString)) {
      Alert.alert("Age Restriction", "You must be at least 16 years old to sign up.");
      return;
    }

    if (!profileImage || !idImage) {
      Alert.alert("Photos Required", "You must take both a Selfie and a photo of your ID.");
      return;
    }

    if (!agreed) {
      Alert.alert("Terms Required", "Please agree to the Terms & Conditions.");
      return;
    }
    // --- VALIDATION END ---

    setLoading(true);
    setVerifying(true); // Start Verification Simulation

    try {
      // 1. SIMULATION: Wait 2 seconds to "Verify" Identity
      await new Promise(resolve => setTimeout(resolve, 2000));
      
      setVerifying(false); // Stop verifying, start registering

      // 2. SIMULATION: Show Success Alert
      // We wrap the API call in a new Promise to wait for the Alert OK press if desired,
      // but standard Alert is non-blocking in JS unless wrapped. 
      // However, visually this works best:
      Alert.alert(
        "Identity Verified", 
        "Facial biometrics match the ID provided.",
        [
          { 
            text: "Create Account", 
            onPress: async () => {
              // 3. ACTUAL REGISTRATION
              await performRegistration();
            }
          }
        ]
      );
      
    } catch (error) {
      setLoading(false);
      setVerifying(false);
      console.log("Verification Error:", error);
    }
  };

  const performRegistration = async () => {
    try {
      const response = await authService.register(name, email, password, dobString);

      if (response.access_token) {
        await SecureStore.setItemAsync('user_token', response.access_token);
        setAuthStatus("AUTHENTICATED");

        if (tabIntent) {
          if (tabIntent === "RIDES") router.replace("/(tabs)/my-rides");
          else if (tabIntent === "BIKES") router.replace("/(tabs)/my-bikes");
          else if (tabIntent === "PROFILE") router.replace("/(tabs)/profile");
          setTabIntent(null);
        } 
        else if (entryIntent) {
          if (entryIntent === "RENT") router.replace("/(tabs)/my-rides/filter");
          else if (entryIntent === "LIST") router.replace("/(tabs)/my-bikes/list");
          setEntryIntent(null);
        }
        else {
          router.replace("/(tabs)/explore");
        }
      }
    } catch (error) {
      console.log("Signup Error:", error);
      const errorMessage = error.response?.data?.detail || "Something went wrong. Please try again.";
      Alert.alert("Registration Failed", errorMessage);
    } finally {
      setLoading(false);
    }
  }

  const navigateToTnC = () => {
    router.push("terms&conditions");
  }

  const navigateToSignIn = () => {
    router.back(); 
  };

  // Helper for Button Text
  const getButtonTitle = () => {
    if (verifying) return "Verifying Identity...";
    if (loading) return "Creating Account...";
    return "Continue";
  };

  return (
    <TouchableWithoutFeedback onPress={Keyboard.dismiss}>
      <View style={[
        signupStyles.container,
        { paddingTop: insets.top, paddingBottom: insets.bottom }
      ]}>
        <KeyboardAvoidingView 
          behavior={Platform.OS === "ios" ? "padding" : undefined} 
          style={{ flex: 1 }}
        >
          <View style={signupStyles.content}>

            <View style={signupStyles.headerSection}>
              <View style={signupStyles.logoHeader}>
                  <Image 
                    source={require("../../assets/images/LogoLightNoNameNoBg.png")} 
                    style={signupStyles.headerLogo}
                    resizeMode="contain"
                  />
                  <Label size={20} bold color={Colors.primary}>
                    micro2move
                  </Label>
              </View>
              <Label size={24} bold style={signupStyles.pageTitle}>
                Sign up
              </Label>
            </View>

            <View style={signupStyles.form}>
              <TextField
                label="Full Name (as displayed on government ID)"
                value={name}
                onChangeText={setName}
                placeholder="Enter Full Name"
              />

              {/* --- CUSTOM DATE INPUT --- */}
              <View style={{ marginBottom: 15 }}>
                <Label 
                  size={14} 
                  secondary 
                  bold 
                  color={Colors.primary} 
                  style={{ marginBottom: 8, marginLeft: 10 }} 
                >
                  Date of Birth
                </Label>
                
                <TouchableOpacity 
                  onPress={toggleDatePicker} 
                  style={signupStyles.dateButton}
                  activeOpacity={0.8}
                >
                  <Text style={[signupStyles.dateText, !dobString && signupStyles.placeholderText]}>
                    {dobString || "Select Your Date of Birth"}
                  </Text>
                  <Ionicons name="calendar-outline" size={20} color="#666" />
                </TouchableOpacity>

                {showPicker && (
                  <DateTimePicker
                    value={date}
                    mode="date"
                    display={Platform.OS === 'ios' ? 'spinner' : 'default'}
                    onChange={handleDateChange}
                    maximumDate={new Date()} 
                  />
                )}
              </View>

              <TextField
                label="Email (for receipts and rides)"
                value={email}
                onChangeText={setEmail}
                placeholder="Enter Email"
                keyboardType="email-address"
                autoCapitalize="none"
              />

              <TextField
                label="Create Password"
                value={password}
                onChangeText={setPassword}
                secureTextEntry
                placeholder="Enter Password"
              />
            </View>

            <View style={signupStyles.uploadSection}>
              {/* ID Proof Button */}
              <TouchableOpacity 
                style={[signupStyles.uploadPill, idImage && signupStyles.uploadPillActive]} 
                activeOpacity={0.6}
                onPress={() => takePhoto(setIdImage, [4, 3])}
              >
                 {idImage ? (
                   <Image source={{ uri: idImage }} style={signupStyles.uploadedThumb} />
                 ) : (
                   <Ionicons name="card-outline" size={20} color={Colors.primary} style={signupStyles.pillIcon} />
                 )}
                <Label size={11} secondary color={idImage ? Colors.primary : "#555"} style={signupStyles.pillLabel}>
                  {idImage ? "ID Captured" : "Capture Govt. ID"}
                </Label>
              </TouchableOpacity>

              {/* Selfie Button */}
              <TouchableOpacity 
                style={[signupStyles.uploadPill, profileImage && signupStyles.uploadPillActive]} 
                activeOpacity={0.6}
                onPress={() => takePhoto(setProfileImage, [1, 1])}
              >
                 {profileImage ? (
                   <Image source={{ uri: profileImage }} style={signupStyles.uploadedThumb} />
                 ) : (
                   <Ionicons name="camera-outline" size={20} color={Colors.primary} style={signupStyles.pillIcon} />
                 )}
                <Label size={11} secondary color={profileImage ? Colors.primary : "#555"} style={signupStyles.pillLabel}>
                  {profileImage ? "Selfie Taken" : "Take Your Selfie"}
                </Label>
              </TouchableOpacity>
            </View>

            <View style={signupStyles.termsContainer}>
              <TouchableOpacity 
                onPress={() => setAgreed(!agreed)} 
                style={[signupStyles.checkbox, agreed && signupStyles.checkboxActive]}
                activeOpacity={0.6}
                hitSlop={{ top: 10, bottom: 10, left: 10, right: 10 }}
              >
                {agreed && <Ionicons name="checkmark" size={16} color={Colors.white} />}
              </TouchableOpacity>
              
              <View style={signupStyles.inlineTextContainer}>
                <Label size={13} secondary color="#666">
                  I accept the{" "}
                </Label>
                <Button 
                  title="Terms & Conditions"
                  variant="hyperlink"
                  onPress={navigateToTnC}
                  textSize={13}
                  style={{ marginVertical: 0 }} 
                />
              </View>
            </View>

            <View style={signupStyles.actionSection}>
              <Button 
                title={getButtonTitle()} 
                variant="primary" 
                onPress={handleSignUp} 
                disabled={loading}
              />

              <View style={signupStyles.footer}>
                <Label size={14} secondary color="#666">
                  Already an user?{" "}
                </Label>
                <Button 
                  title="Sign in"
                  variant="hyperlink" 
                  onPress={navigateToSignIn}
                  textSize={14}
                  style={{ marginVertical: 0 }}
                />
              </View>
            </View>

          </View>
        </KeyboardAvoidingView>
      </View>
    </TouchableWithoutFeedback>
  );
}



app/(auth)/terms&conditions.jsx

import { useRouter } from "expo-router";
import { Image, ScrollView, StyleSheet, View } from "react-native";
import Button from "../../components/Button";
import Label from "../../components/Label";
import { Colors } from "../../theme/colors";

export default function Terms() {
  const router = useRouter();

  const handleOk = () => {
    router.back(); 
  };

  return (
    <View style={styles.container}>
      <ScrollView 
        contentContainerStyle={styles.scrollContent}
        showsVerticalScrollIndicator={false}
      >
        
        {/* Header */}
        <View style={styles.logoHeader}>
           <Image 
             source={require("../../assets/images/LogoLightNoNameNoBg.png")} 
             style={styles.headerLogo}
             resizeMode="contain"
           />
           <Label size={20} bold color={Colors.primary}>
             micro2move
           </Label>
        </View>

        {/* Title */}
        <Label size={24} bold style={styles.pageTitle}>
          Terms & Conditions
        </Label>

        {/* Main Content Text */}
        <Label 
          size={14} 
          secondary 
          color="#444" 
          style={styles.textContent}
        >
          Welcome to Micro2Move! Please read these Terms and Conditions carefully before using our services. By accessing or using the service, you agree to be bound by these terms. If you disagree with any part of the terms, you may not access the service.
          {"\n\n"}
          Our service allows you to connect with a community of safe biking enthusiasts, providing resources, tutorials, and e-bike sharing opportunities. We are committed to promoting safe biking practices in Sydney.
          {"\n\n"}
          You are responsible for complying with all local laws regarding biking and ensuring your safety while using our service. We are not liable for any injuries or damages sustained while using the service. For more information on our privacy policy and user respon...{" "}
          
          {/* THE FIX: Use Button, but strip container styles and push it down */}
          <Button 
            title="Read more" 
            variant="hyperlink" 
            onPress={() => console.log("Read More Clicked")}
            textSize={14}
            style={styles.inlineButton} // <--- Applies the alignment tweak
          />
        </Label>

        <Button 
          title="OK" 
          variant="primary" 
          onPress={handleOk} 
          style={{ marginTop: 30 }}
        />

      </ScrollView>
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: Colors.white,
    paddingTop: 40,
  },
  scrollContent: {
    paddingHorizontal: 24,
    paddingBottom: 40,
  },
  logoHeader: {
    flexDirection: "row",
    alignItems: "center",
    marginBottom: 20,
  },
  headerLogo: {
    width: 60, 
    height: 60,
  },
  pageTitle: {
    marginBottom: 20,
    color: "#4A5D4F", 
  },
  textContent: {
    lineHeight: 22, 
    textAlign: "justify", 
  },
  // THE TWEAK
  inlineButton: {
    // 1. Remove the "Box" feel
    height: undefined,
    minHeight: 0,
    paddingVertical: 0,
    paddingHorizontal: 0,
    backgroundColor: 'transparent',
    
    // 2. Push it down to align with text baseline
    // You might need to adjust '4' to '3' or '5' depending on your exact font
    transform: [{ translateY: 1.5 }], 
    
    // 3. Ensure it flows inline
    marginBottom: -4, 
  }
});





// import Button from "@components/Button";
// import Label from "@components/Label";
// import { Colors } from "@theme/colors";
// import { useRouter } from "expo-router";
// import { Image, ScrollView, StyleSheet, View } from "react-native";

// export default function Terms() {
//   const router = useRouter();

//   const handleOk = () => {
//     router.back(); 
//   };

//   return (
//     <View style={styles.container}>
//       <ScrollView 
//         contentContainerStyle={styles.scrollContent}
//         showsVerticalScrollIndicator={false}
//       >
        
//         {/* Header */}
//         <View style={styles.logoHeader}>
//            <Image 
//              source={require("../../assets/images/LogoLightNoNameNoBg.png")} 
//              style={styles.headerLogo}
//              resizeMode="contain"
//            />
//            <Label size={20} bold color={Colors.primary}>
//              micro2move
//            </Label>
//         </View>

//         {/* Title */}
//         <Label size={24} bold style={styles.pageTitle}>
//           Terms & Conditions
//         </Label>

//         {/* Main Content Text */}
//         <Label 
//           size={14} 
//           secondary 
//           color="#444" 
//           style={styles.textContent}
//         >
//           Welcome to Micro2Move! Please read these Terms and Conditions carefully before using our services. By accessing or using the service, you agree to be bound by these terms. If you disagree with any part of the terms, you may not access the service.
//           {"\n\n"}
//           Our service allows you to connect with a community of safe biking enthusiasts, providing resources, tutorials, and e-bike sharing opportunities. We are committed to promoting safe biking practices in Sydney.
//           {"\n\n"}
//           You are responsible for complying with all local laws regarding biking and ensuring your safety while using our service. We are not liable for any injuries or damages sustained while using the service. For more information on our privacy policy and user respon...{" "}
          
//           <Button 
//             title="Read more" 
//             variant="hyperlink" 
//             onPress={() => console.log("Read More Clicked")}
//             textSize={14}
//           />
//         </Label>

//         <Button 
//           title="OK" 
//           variant="primary" 
//           onPress={handleOk} 
//           style={{ marginTop: 30 }}
//         />

//       </ScrollView>
//     </View>
//   );
// }

// const styles = StyleSheet.create({
//   container: {
//     flex: 1,
//     backgroundColor: Colors.white,
//     paddingTop: 40,
//   },
//   scrollContent: {
//     paddingHorizontal: 24,
//     paddingBottom: 40,
//   },
//   logoHeader: {
//     flexDirection: "row",
//     alignItems: "center",
//     marginBottom: 20,
//   },
//   headerLogo: {
//     width: 60, 
//     height: 60,
//   },
//   pageTitle: {
//     marginBottom: 20,
//     color: "#4A5D4F", 
//   },
//   textContent: {
//     lineHeight: 22, 
//     textAlign: "justify", 
//   },
// });


app/(tabs)/explore/_layout.jsx

import { Stack } from "expo-router";

export default function ExploreLayout() {
  return (
    <Stack screenOptions={{ headerShown: false }}>
      <Stack.Screen name="index" />
    </Stack>
  );
}

app/(tabs)/explore/index.jsx

import { View } from "react-native";
import Label from "@components/Label";

export default function Explore() {
  return (
    <View style={{ flex: 1, alignItems: "center", justifyContent: "center" }}>
      <Label size={20} bold>
        Explore E-Bikes
      </Label>
    </View>
  );
}


app/(tabs)/my-bikes/_layout.jsx

import { Stack } from "expo-router";

export default function MyBikesLayout() {
  return (
    <Stack screenOptions={{ headerShown: false }}>
      <Stack.Screen name="index" />
      <Stack.Screen name="list" />
    </Stack>
  );
}


app/(tabs)/my-bikes/index.jsx

import Label from "@components/Label";
import { View } from "react-native";

export default function MyBikes() {
  return (
    <View style={{ flex: 1, alignItems: "center", justifyContent: "center" }}>
      <Label size={20} bold>
        List an E-Bike
      </Label>
    </View>
  );
}


app/(tabs)/my-bikes/list.jsx

import { View } from "react-native";
import Label from "@components/Label";

export default function BikeList() {
  return (
    <View style={{ flex: 1, padding: 24 }}>
      <Label size={20} bold>
        Bike Listings
      </Label>
    </View>
  );
}

app/(tabs)/my-rides/_layout.jsx

import { Stack } from "expo-router";

export default function MyRidesLayout() {
  return (
    <Stack screenOptions={{ headerShown: false }}>
      <Stack.Screen name="index" />
      <Stack.Screen name="filter" />
    </Stack>
  );
}

app/(tabs)/my-rides/filter.jsx

import Label from "@components/Label";
import { View } from "react-native";

export default function RideFilter() {
  return (
    <View style={{ flex: 1, alignItems: "center", justifyContent: "center" }}>
      <Label size={20} bold>
        Book an E-Bike
      </Label>
    </View>
  );
}


app/(tabs)/my-rides/index.jsx

import Label from "@components/Label";
import { View } from "react-native";

export default function MyRides() {
  return (
    <View style={{ flex: 1, padding: 24 }}>
      <Label size={20} bold>
        Filter Rides
      </Label>
    </View>
  );
}


app/(tabs)/_layout.jsx

import { Ionicons } from "@expo/vector-icons";
import { Tabs, useRouter } from "expo-router";
import { useContext } from "react";
import { Pressable } from "react-native"; // 1. Import Pressable & Platform
import { useSafeAreaInsets } from "react-native-safe-area-context";

import { AuthContext } from "../../context/AuthContext";
import { TabIntentContext } from "../../context/TabIntentContext";
import { Colors } from "../../theme/colors";

export default function TabsLayout() {
  const router = useRouter();
  const insets = useSafeAreaInsets();

  const { authStatus } = useContext(AuthContext);
  const { setTabIntent } = useContext(TabIntentContext);

  const handleProtectedTabPress = (e, intent) => {
    if (authStatus !== "AUTHENTICATED") {
      e.preventDefault();
      setTabIntent(intent);
      router.push("/(auth)/signin");
    }
  };

  return (
    <Tabs 
      screenOptions={{ 
        headerShown: false,
        tabBarActiveTintColor: Colors.primary,
        tabBarInactiveTintColor: "#8E8E93",
        tabBarStyle: {
          height: 60 + insets.bottom,
          paddingBottom: insets.bottom + 5,
          paddingTop: 5,
        },
        tabBarLabelStyle: {
          fontSize: 12,
          fontFamily: "Lato-Regular",
        },
        // 2. ADD THIS: Custom Tab Button for Click Effect
        tabBarButton: (props) => (
          <Pressable
            {...props}
            // Android: Adds the material ripple effect
            android_ripple={{ color: "#E6F4FE", borderless: true, radius: 50 }}
            // iOS & Android: Adds opacity fade on press
            style={({ pressed }) => [
              props.style,
              { 
                opacity: pressed ? 0.5 : 1,
                // Optional: Subtle scale down animation
                transform: [{ scale: pressed ? 0.96 : 1 }] 
              }
            ]}
          />
        ),
      }}
    >
      
      <Tabs.Screen 
        name="explore" 
        options={{
          tabBarLabel: "Explore",
          tabBarIcon: ({ color, size }) => (
            <Ionicons name="search-outline" size={size} color={color} />
          ),
        }}
      />

      <Tabs.Screen 
        name="my-rides" 
        listeners={{
          tabPress: (e) => handleProtectedTabPress(e, "RIDES"),
        }}
        options={{
          tabBarLabel: "My Rides",
          tabBarIcon: ({ color, size }) => (
            <Ionicons name="calendar-outline" size={size} color={color} />
          ),
        }}
      />

      <Tabs.Screen 
        name="my-bikes" 
        listeners={{
          tabPress: (e) => handleProtectedTabPress(e, "BIKES"),
        }}
        options={{
          tabBarLabel: "My Bikes",
          tabBarIcon: ({ color, size }) => (
            <Ionicons name="bicycle-outline" size={size} color={color} />
          ),
        }}
      />

      <Tabs.Screen 
        name="profile" 
        listeners={{
          tabPress: (e) => handleProtectedTabPress(e, "PROFILE"),
        }}
        options={{
          tabBarLabel: "Profile",
          tabBarIcon: ({ color, size }) => (
            <Ionicons name="person-outline" size={size} color={color} />
          ),
        }}
      />

    </Tabs>
  );
}


app/(tabs)/profile.jsx

import { Ionicons } from "@expo/vector-icons";
import { useRouter } from "expo-router";
import * as SecureStore from 'expo-secure-store';
import { useContext } from "react";
import { StyleSheet, View } from "react-native";

import Button from "../../components/Button";
import Label from "../../components/Label";
import { AuthContext } from "../../context/AuthContext";
import { authService } from "../../services/authService";
import { Colors } from "../../theme/colors";

export default function Profile() {
  const router = useRouter();
  const { setAuthStatus } = useContext(AuthContext);

  const handleLogout = async () => {
    try {
      if (authService.logout) {
        await authService.logout();
      }
    } catch (error) {
      console.log("Backend logout failed (non-critical):", error);
    }

    await SecureStore.deleteItemAsync('user_token');

    setAuthStatus("UNAUTHENTICATED");

    router.replace("/landing");
  };

  return (
    <View style={styles.container}>
      <View style={styles.centerContent}>
        <Label size={24} bold>
          Profile
        </Label>

        <Button
          title="Logout"
          variant="primary"
          onPress={handleLogout}
          style={styles.logoutButton}
          textStyle={styles.logoutText}
          iconLeft={
            <Ionicons
              name="power-outline"
              size={18}
              color={Colors.white}
              style={{ marginRight: 6 }}
            />
          }
        />
      </View>
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: Colors.white,
  },
  centerContent: {
    flex: 1,
    justifyContent: "center",
    alignItems: "center",
  },
  logoutButton: {
    backgroundColor: "#E53935",
    paddingVertical: 10,
    paddingHorizontal: 24,
    marginTop: 20,
    width: 160, 
  },
  logoutText: {
    color: Colors.white,
    fontSize: 15,
    fontFamily: "Lato-Bold",
  },
});


components/BottomTab.jsx

import { View, Text, Pressable } from "react-native";
import { Fonts } from "@theme/fonts";

export default function BottomTab({ label, active, onPress }) {
  return (
    <Pressable onPress={onPress} style={{ flex: 1 }}>
      <View
        style={{
          alignItems: "center",
          paddingVertical: 10,
          borderTopWidth: active ? 2 : 0,
          borderTopColor: "#000",
        }}
      >
        <Text
          style={{
            fontFamily: active ? Fonts.primaryBold : Fonts.primary,
            fontSize: 12,
          }}
        >
          {label}
        </Text>
      </View>
    </Pressable>
  );
}

components/Button.jsx

import Label from "@/components/Label";
import { Colors } from "@/theme/colors";
import { StyleSheet, TouchableOpacity } from "react-native";

export default function Button({
  title,
  onPress,
  variant = "primary",
  style,
  textSize = 20
}) {
  const isSecondary = variant === "secondary";
  const isHyperlink = variant === "hyperlink";
  
  let backgroundColor = Colors.primary;
  let borderColor = "transparent";
  let borderWidth = 0;
  let textColor = Colors.white;

  if (isSecondary) {
    backgroundColor = "transparent";
    borderColor = Colors.primary;
    borderWidth = 2;
    textColor = Colors.primary;
  } else if (isHyperlink) {
    backgroundColor = "transparent";
    borderColor = "transparent";
    borderWidth = 0;
    textColor = Colors.primary;
  }

  if (isHyperlink) {
    return (
      <TouchableOpacity
        onPress={onPress}
        activeOpacity={0.5}
        hitSlop={{ top: 10, bottom: 10, left: 10, right: 10 }}
        style={style}
      >
        <Label
          bold
          secondary
          size={textSize}
          color={textColor}
          style={{ textDecorationLine: "underline" }}
        >
          {title}
        </Label>
      </TouchableOpacity>
    );
  }

  return (
    <TouchableOpacity
      onPress={onPress}
      activeOpacity={0.8}
      style={[
        styles.container,
        {
          backgroundColor,
          borderColor,
          borderWidth,
        },
        style,
      ]}
    >
      <Label
        bold
        secondary
        size={textSize} 
        color={textColor}
      >
        {title}
      </Label>
    </TouchableOpacity>
  );
}

const styles = StyleSheet.create({
  container: {
    height: 50,
    borderRadius: 25,
    justifyContent: "center",
    alignItems: "center",
    paddingHorizontal: 20,
    width: "100%",
    marginVertical: 10,
  },
});

components/Label.jsx

import { Colors } from "@theme/colors";
import { Fonts } from "@theme/fonts";
import { Text } from "react-native";

export default function Label({
  children,
  size = 14,
  bold = false,
  secondary = false,
  color = Colors.black,
  style,
  ...props
}) {
  
  const fontFamily = secondary
    ? (bold ? Fonts.secondaryBold : Fonts.secondary)
    : (bold ? Fonts.primaryBold : Fonts.primary);

  return (
    <Text
      style={[
        {
          fontFamily,
          fontSize: size,
          color,
        },
        style,
      ]}
      {...props}
    >
      {children}
    </Text>
  );
}

components/TextField.jsx

import { StyleSheet, TextInput, View } from "react-native";
import { Colors } from "../theme/colors";
import { Fonts } from "../theme/fonts";
import Label from "./Label";

export default function TextField({
  label,
  value,
  onChangeText,
  placeholder,
  secureTextEntry = false,
  error,
  testID,
  style,
  inputStyle,
  ...props
}) {
  return (
    <View style={[styles.container, style]}>
      
      {label && (
        <Label 
          secondary 
          bold 
          size={14} 
          color={Colors.primary} 
          style={styles.label}
        >
          {label}
        </Label>
      )}

      <TextInput
        testID={testID}
        value={value}
        onChangeText={onChangeText}
        placeholder={placeholder}
        placeholderTextColor="#999"
        secureTextEntry={secureTextEntry}
        style={[
          styles.input,
          error && { borderColor: "red", borderWidth: 1 },
          inputStyle 
        ]}
        {...props}
      />

      {/* 3. Error Message */}
      {error && (
        <Label 
          secondary 
          size={12} 
          style={{ color: "red", marginTop: 4, marginLeft: 10 }}
        >
          {error}
        </Label>
      )}
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    marginBottom: 20,
    width: "100%",
  },
  label: {
    marginBottom: 8,
    marginLeft: 10,
  },
  input: {
    height: 50,
    backgroundColor: "#E6E6FA",
    borderRadius: 25, 
    paddingHorizontal: 20,
    fontSize: 16,
    fontFamily: Fonts.secondary, 
    color: Colors.black,
    borderWidth: 1,
    borderColor: "transparent", 
  },
});



context/AuthContext.js

import * as SecureStore from 'expo-secure-store';
import { createContext, useEffect, useState } from "react";

export const AuthContext = createContext({
  authStatus: "UNKNOWN",
  setAuthStatus: () => {}, 
});

export function AuthProvider({ children }) {
  const [authStatus, setAuthStatus] = useState("UNKNOWN");

  useEffect(() => {
    const checkLoginStatus = async () => {
      try {
        const token = await SecureStore.getItemAsync('user_token');
        if (token) {
          setAuthStatus("AUTHENTICATED");
        } else {
          setAuthStatus("UNAUTHENTICATED");
        }
      } catch (e) {
        console.error("Auth check failed:", e);
        setAuthStatus("UNAUTHENTICATED");
      }
    };

    checkLoginStatus();
  }, []);

  return (
    <AuthContext.Provider value={{ authStatus, setAuthStatus }}>
      {children}
    </AuthContext.Provider>
  );
}

context/EntryIntentcontext.js

import { createContext, useState } from "react";

export const EntryIntentContext = createContext(null);

export function EntryIntentProvider({ children }) {
  const [entryIntent, setEntryIntent] = useState(null);

  return (
    <EntryIntentContext.Provider value={{ entryIntent, setEntryIntent }}>
      {children}
    </EntryIntentContext.Provider>
  );
}

context/TabIntentContext.js

import { createContext, useState } from "react";

// Added default safety object to prevent "read property of null" errors
export const TabIntentContext = createContext({
  tabIntent: null,
  setTabIntent: () => {},
});

export function TabIntentProvider({ children }) {
  const [tabIntent, setTabIntent] = useState(null);
  // Values: "RIDES" | "BIKES" | "PROFILE" | null

  return (
    <TabIntentContext.Provider value={{ tabIntent, setTabIntent }}>
      {children}
    </TabIntentContext.Provider>
  );
}


services/apiClient.js

import axios from 'axios';
import * as SecureStore from 'expo-secure-store';

// ngrok URL for https local dev
const BASE_URL = 'https://9fd3abd8e3bc.ngrok-free.app';

const apiClient = axios.create({
  baseURL: BASE_URL,
  timeout: 10000,
  headers: {
    'Content-Type': 'application/json',
  },
});

apiClient.interceptors.request.use(
  async (config) => {
    // console.log(`[API REQUEST] ${config.method.toUpperCase()} ${config.baseURL}${config.url}`);
    try {
      const token = await SecureStore.getItemAsync('user_token');
      if (token) {
        config.headers.Authorization = `Bearer ${token}`;
      }
    } catch (error) {
      console.log('Error attaching token:', error);
    }
    return config;
  },
  (error) => Promise.reject(error)
);

export default apiClient;

services/authService.js

import * as SecureStore from 'expo-secure-store';
import apiClient from './apiClient';

export const authService = {
  async login(email, password) {
    const response = await apiClient.post('/auth/signin', { email, password });
    
    if (response.data.access_token) {
      await SecureStore.setItemAsync('user_token', response.data.access_token);
    }
    return response.data;
  },

  async register(name, email, password, dob) {
    let formattedDob = dob;
    if (dob.includes('/')) {
        const [day, month, year] = dob.split('/');
        formattedDob = `${year}-${month}-${day}`;
    }

    const payload = {
      full_name: name,
      email: email,
      password: password,
      date_of_birth: formattedDob 
    };

    const response = await apiClient.post('/auth/signup', payload);
    return response.data;
  },

  async logout() {
    try {
      await apiClient.post('/auth/logout');
    } catch (error) {
      console.log("Backend logout failed:", error);
    } finally {
      await SecureStore.deleteItemAsync('user_token');
    }
  }
};


theme/colors.js

export const Colors = {
  primary: "#cb9bf0",
  secondary: "#506445",
  black: "#000000",
  white: "#ffffff",
  accent: "#e9e0ff"
};


theme/fonts.js

export const Fonts = {
  primary: "Comfortaa-Regular",
  primaryBold: "Comfortaa-Bold",
  secondary: "Lato-Regular",
  secondaryBold: "Lato-Bold",
};


utils/styles.js

import { Colors } from "@theme/colors";
import { StyleSheet } from "react-native";

// Export the object directly (Standard Practice)
export const splashStyles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: Colors.black,
  },
  contentContainer: {
    flex: 1,
    alignItems: "center",
    justifyContent: "space-between",
    paddingVertical: 100,
  },
  topSection: {
    marginTop: 40,
  },
  logoContainer: {
    justifyContent: "center",
    alignItems: "center",
  },
  logo: {
    width: 250,
    height: 250,
    transform: [{ scale: 1.8 }],
  },
  footerContainer: {
    marginBottom: 40,
  },
});

export const landingStyles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: Colors.white,
    alignItems: "center",
    justifyContent: "center",
  },
  topSection: {
    marginBottom: 60,
    alignItems: "center",
  },
  circleBadge: {
    width: 280,
    height: 280,
    borderRadius: 140, 
    backgroundColor: Colors.black, 
    justifyContent: "center",
    alignItems: "center",
    padding: 20,
    shadowColor: Colors.black,
    shadowOffset: { width: 0, height: 4 },
    shadowOpacity: 0.3,
    shadowRadius: 5,
    elevation: 8,
  },
  logo: {
    width: 150,
    height: 150,
    transform: [{ scale: 1.8 }],
    marginBottom: 10,
  },
  tagline: {
    textAlign: "center",
    lineHeight: 20,
    opacity: 0.9,
  },
  actionContainer: {
    width: "100%", 
    paddingHorizontal: 24, 
    alignItems: "center", 
  },
  buttonSpacing: {
    marginBottom: 15,
  },
  exploreButton: {
    marginTop: 10,
  },
});

export const signinStyles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: Colors.white,
  },
  content: {
    flex: 1,
    paddingHorizontal: 24,
    paddingTop: 20, 
  },
  headerSection: {
    marginBottom: 5,
  },
  logoHeader: {
    flexDirection: "row",
    alignItems: "center",
    marginBottom: 5,
  },
  headerLogo: {
    width: 40,
    height: 40,
  },
  pageTitle: {
    fontFamily: "Comfortaa-Bold",
    color: "#333",
    marginBottom: 20,
  },
  form: {
    marginBottom: 20,
  },
  footer: {
    flexDirection: "row",
    justifyContent: "center",
    alignItems: "center",
    marginTop: 10,
  },
});

export const signupStyles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: Colors.white,
  },
  content: {
    flex: 1,
    paddingHorizontal: 24,
    paddingTop: 20, 
  },
  headerSection: {
    marginBottom: 20, 
  },
  logoHeader: {
    flexDirection: "row",
    alignItems: "center",
    marginBottom: 5,
  },
  headerLogo: {
    width: 40, 
    height: 40,
  },
  pageTitle: {
    fontFamily: "Comfortaa-Bold", 
    color: "#333", 
  },
  form: {
    marginBottom: 10,
  },
  
  // MATCHING TEXTFIELD STYLE
  dateButton: {
    flexDirection: 'row',
    alignItems: 'center',
    justifyContent: 'space-between',
    backgroundColor: '#E6E6FA', 
    paddingHorizontal: 16,
    height: 50, 
    borderRadius: 25,
    borderWidth: 1,
    borderColor: '#F0F0F8',     
  },
  dateText: {
    fontSize: 15, 
    color: '#333',
    fontFamily: 'Lato-Regular',
  },
  placeholderText: {
    color: '#999',
    fontFamily: 'Lato-Regular', 
  },
  
  termsContainer: {
    flexDirection: "row",
    alignItems: "center",
    marginBottom: 15,
    marginTop: 5,
  },
  checkbox: {
    width: 22,
    height: 22,
    borderWidth: 1,
    borderColor: "#ccc", 
    borderRadius: 4,
    marginRight: 10,
    justifyContent: "center",
    alignItems: "center",
    backgroundColor: "#F0F0F8", 
  },
  checkboxActive: {
    backgroundColor: Colors.primary,
    borderColor: Colors.primary,
  },
  inlineTextContainer: {
    flexDirection: "row", 
    alignItems: "center", 
  },
  
  uploadSection: {
    flexDirection: 'row', 
    gap: 12, 
    marginBottom: 20, 
    height: 60, 
  },
  uploadPill: {
    flex: 1, 
    height: 50, 
    paddingVertical: 8, 
    backgroundColor: "#E6E6FA", 
    borderRadius: 25, 
    flexDirection: 'row',
    alignItems: 'center',
    justifyContent: 'center', 
    paddingHorizontal: 8,
    borderWidth: 1,
    borderColor: "#E8E8F0",
    overflow: 'hidden',
  },
  uploadPillActive: {
    backgroundColor: "#E6F4FE", 
    borderColor: Colors.primary,
  },
  pillIcon: {
    marginRight: 6,
  },
  pillLabel: {
    textAlign: 'center',
    flexShrink: 1,
    fontSize: 11,
  },
  uploadedThumb: {
    width: 24,
    height: 24,
    borderRadius: 4,
    marginRight: 8,
  },
  
  actionSection: {
    marginTop: 0,
  },
  footer: {
    flexDirection: "row",
    justifyContent: "center",
    alignItems: "center",
    marginTop: 15,
  },
});


utils/validators.js

export const isValidEmail = (email) => {
  // Checks for format: text @ text . text
  return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
};

export const isAtLeast16 = (dob) => {
  // Expects DD/MM/YYYY
  if (!dob.includes('/')) return false;

  const parts = dob.split('/');
  if (parts.length !== 3) return false;
  
  const day = parseInt(parts[0], 10);
  const month = parseInt(parts[1], 10) - 1; // Months are 0-indexed in JS
  const year = parseInt(parts[2], 10);
  
  const birthDate = new Date(year, month, day);
  const today = new Date();
  
  let age = today.getFullYear() - birthDate.getFullYear();
  const m = today.getMonth() - birthDate.getMonth();
  
  // Adjust age if birthday hasn't happened yet this year
  if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {
    age--;
  }
  
  return age >= 16;
};